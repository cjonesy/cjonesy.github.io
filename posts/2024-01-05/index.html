<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Use VSCode Remote SSH with gcloud compute ssh | cjonesy</title>
<meta name=keywords content="tips-and-tricks"><meta name=description content="Prerequesites Before we begin, ensure you have the following tools installed:
Google Cloud CLI (gcloud) - Essential for managing Google Cloud resources from the command line. VSCode Remote - SSH Extension - This extension allows VSCode to connect to remote machines using SSH. Step-by-Step Instructions Updating SSH Configuration First, we need to update the SSH configuration to include the Google Cloud Compute (GCE) instance. This involves setting a ProxyCommand to facilitate the connection."><meta name=author content="Charlie Jones"><link rel=canonical href=https://cjonesy.github.io/posts/2024-01-05/><link crossorigin=anonymous href=/assets/css/stylesheet.2d50b1531bd1b3146d65c5543bd298f7f982786aadee4c223cb3a1cb51906106.css integrity="sha256-LVCxUxvRsxRtZcVUO9KY9/mCeGqt7kwiPLOhy1GQYQY=" rel="preload stylesheet" as=style><link rel=icon href=https://cjonesy.github.io/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://cjonesy.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://cjonesy.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://cjonesy.github.io/apple-touch-icon.png><link rel=mask-icon href=https://cjonesy.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Use VSCode Remote SSH with gcloud compute ssh"><meta property="og:description" content="Prerequesites Before we begin, ensure you have the following tools installed:
Google Cloud CLI (gcloud) - Essential for managing Google Cloud resources from the command line. VSCode Remote - SSH Extension - This extension allows VSCode to connect to remote machines using SSH. Step-by-Step Instructions Updating SSH Configuration First, we need to update the SSH configuration to include the Google Cloud Compute (GCE) instance. This involves setting a ProxyCommand to facilitate the connection."><meta property="og:type" content="article"><meta property="og:url" content="https://cjonesy.github.io/posts/2024-01-05/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-05T09:24:08-06:00"><meta property="article:modified_time" content="2024-01-05T09:24:08-06:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Use VSCode Remote SSH with gcloud compute ssh"><meta name=twitter:description content="Prerequesites Before we begin, ensure you have the following tools installed:
Google Cloud CLI (gcloud) - Essential for managing Google Cloud resources from the command line. VSCode Remote - SSH Extension - This extension allows VSCode to connect to remote machines using SSH. Step-by-Step Instructions Updating SSH Configuration First, we need to update the SSH configuration to include the Google Cloud Compute (GCE) instance. This involves setting a ProxyCommand to facilitate the connection."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://cjonesy.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Use VSCode Remote SSH with gcloud compute ssh","item":"https://cjonesy.github.io/posts/2024-01-05/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Use VSCode Remote SSH with gcloud compute ssh","name":"Use VSCode Remote SSH with gcloud compute ssh","description":"Prerequesites Before we begin, ensure you have the following tools installed:\nGoogle Cloud CLI (gcloud) - Essential for managing Google Cloud resources from the command line. VSCode Remote - SSH Extension - This extension allows VSCode to connect to remote machines using SSH. Step-by-Step Instructions Updating SSH Configuration First, we need to update the SSH configuration to include the Google Cloud Compute (GCE) instance. This involves setting a ProxyCommand to facilitate the connection.","keywords":["tips-and-tricks"],"articleBody":"Prerequesites Before we begin, ensure you have the following tools installed:\nGoogle Cloud CLI (gcloud) - Essential for managing Google Cloud resources from the command line. VSCode Remote - SSH Extension - This extension allows VSCode to connect to remote machines using SSH. Step-by-Step Instructions Updating SSH Configuration First, we need to update the SSH configuration to include the Google Cloud Compute (GCE) instance. This involves setting a ProxyCommand to facilitate the connection. Here’s how you do it:\nOpen your SSH config file (usually found at ~/.ssh/config). Add the following configuration for your GCE instance: Host my-gce-instance-name HostName my-gce-instance-name User your_username ProxyCommand gcloud compute ssh %h -- -W %h:%p Replace my-gce-instance-name with your instance name and your_username with your GCE username.\nNote: The ProxyCommand might require adjustments based on your setup. For instance, specify the --zone flag if you haven’t set a default zone in gcloud. Refer to the gcloud compute ssh documentation for detailed information.\nConnecting via VSCode With your SSH config updated, you can now connect to your GCE instance using VSCode:\nLaunch VSCode. Open the Remote Explorer from the left sidebar. In the Remote Explorer panel, select Remotes (SSH/Tunnels) from the dropdown menu at the top. Expand the SSH section. You should see the Host you defined in your SSH config. Click on the defined Host to establish a connection. And that’s it! You’re now connected to your GCE instance through VSCode, ready to work remotely with the power of cloud computing at your fingertips.\n","wordCount":"248","inLanguage":"en","datePublished":"2024-01-05T09:24:08-06:00","dateModified":"2024-01-05T09:24:08-06:00","author":{"@type":"Person","name":"Charlie Jones"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://cjonesy.github.io/posts/2024-01-05/"},"publisher":{"@type":"Organization","name":"cjonesy","logo":{"@type":"ImageObject","url":"https://cjonesy.github.io/favicon.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://cjonesy.github.io/ accesskey=h title="cjonesy (Alt + H)">cjonesy</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://cjonesy.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://cjonesy.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://cjonesy.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://cjonesy.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Use VSCode Remote SSH with gcloud compute ssh</h1><div class=post-meta><span title='2024-01-05 09:24:08 -0600 -0600'>January 5, 2024</span>&nbsp;·&nbsp;Charlie Jones&nbsp;|&nbsp;<a href=https://github.com/cjonesy/cjonesy.github.io/tree/main/content/posts/2024-01-05.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=prerequesites>Prerequesites<a hidden class=anchor aria-hidden=true href=#prerequesites>#</a></h2><p>Before we begin, ensure you have the following tools installed:</p><ol><li><a href=https://cloud.google.com/sdk/docs/install>Google Cloud CLI (gcloud)</a> - Essential for managing Google Cloud resources from the command line.</li><li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh">VSCode Remote - SSH Extension</a> - This extension allows VSCode to connect to remote machines using SSH.</li></ol><h2 id=step-by-step-instructions>Step-by-Step Instructions<a hidden class=anchor aria-hidden=true href=#step-by-step-instructions>#</a></h2><h3 id=updating-ssh-configuration>Updating SSH Configuration<a hidden class=anchor aria-hidden=true href=#updating-ssh-configuration>#</a></h3><p>First, we need to update the SSH configuration to include the Google Cloud Compute (GCE) instance. This involves setting a ProxyCommand to facilitate the connection. Here’s how you do it:</p><ol><li>Open your SSH config file (usually found at <code>~/.ssh/config</code>).</li><li>Add the following configuration for your GCE instance:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Host my-gce-instance-name
</span></span><span class=line><span class=cl>  HostName my-gce-instance-name
</span></span><span class=line><span class=cl>  User your_username
</span></span><span class=line><span class=cl>  ProxyCommand gcloud compute ssh %h -- -W %h:%p
</span></span></code></pre></div><p>Replace <code>my-gce-instance-name</code> with your instance name and <code>your_username</code> with your GCE username.</p><p><em>Note:</em> The <code>ProxyCommand</code> might require adjustments based on your setup. For instance, specify the <code>--zone</code> flag if you haven’t set a default zone in gcloud. Refer to the <a href=https://cloud.google.com/sdk/gcloud/reference/compute/ssh>gcloud compute ssh documentation</a> for detailed information.</p><h3 id=connecting-via-vscode>Connecting via VSCode<a hidden class=anchor aria-hidden=true href=#connecting-via-vscode>#</a></h3><p>With your SSH config updated, you can now connect to your GCE instance using VSCode:</p><ol><li>Launch VSCode.</li><li>Open the <code>Remote Explorer</code> from the left sidebar.</li><li>In the <code>Remote Explorer</code> panel, select <code>Remotes (SSH/Tunnels)</code> from the dropdown menu at the top.</li><li>Expand the <code>SSH</code> section. You should see the <code>Host</code> you defined in your SSH config.</li><li>Click on the defined <code>Host</code> to establish a connection.</li></ol><p>And that&rsquo;s it! You&rsquo;re now connected to your GCE instance through VSCode, ready to work remotely with the power of cloud computing at your fingertips.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://cjonesy.github.io/tags/tips-and-tricks/>tips-and-tricks</a></li></ul><nav class=paginav><a class=next href=https://cjonesy.github.io/posts/2022-11-14/><span class=title>Next »</span><br><span>git-top-committers</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://cjonesy.github.io/>cjonesy</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>